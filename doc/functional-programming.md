# Функциональное программирование на JavaScript

## Основы функционального программирование

### Сущность функционального программирования

Цель состоит в том, чтобы _абстрагировать_ потоки управления и операции над данными с помощью функций и тем самым _исключить_ побочные эффекты и _сократить_ изменение состояний в приложении.

Принципы функционального программирования:

- декларативное программирование
- чистые функции
- ссылочная прозрачность
- неизменяемость

В функциональных программах нужно стремиться к _отсутствию сохранения состояния_ и _неизменяемости_ в как можно большей степени.

Если код не зависит от состояния программы, то ничто не может нарушить его работу.

#### Чистые функции

Свойства:

- Зависит только от предоставляемых входных данных, а не от любого скрытого или внешнего состояния, которое может измениться во время ее вычисления или в промежутках между ее вызовами
- Не вносит изменения за пределами области своей видимости, например, не изменяет глобальный объект или параметр, передаваемый по ссылке

Побочные эффекты:

- Глобальное изменение переменной, свойства или структуры данных
- Изменение первоначального значения аргумента функции
- Обработка вводимых пользователем данных
- Генерирование исключения, если только оно не перхватывается в той же самой функции
- Вывод сообщения на экран или в журнал регистрации
- Запрос HTML-документов, браузерных cookie-файлов или баз данных

На практике функциональное программирование накладывает ограничение не на _все_ изменения состояния.

Оно лищь предоставляет каркас, помогающий управлять или и сокращать их, позволяя в то же время отделять "чистое" от "нечистого". "Нечистый" код производит _внешне видимые_ побочные эффекты.

#### Ссылочная прозрачность

Ссылочная прозрачность - более формальный способ определения "чистой" функции.

"Чистота" означает существование "чистого" соответствия аргументов функции ее возвращаемому значению.

Если функция постоянно возвращает один и тот же результат по тем же самым входным данным, то она считается _ссылочно-прозрачной_.

#### Сохранение данных неизменяемыми

_Неизменяемые данные_ нельзя изменить после их создания.

Функциональное программирование означает декларативное вычисление "чистых" функций для создания неизменяемых программ, исключая внешне наблюдаемые побочные эффекты.

### Приемущества функционального программирования

Функциональное программирование способно:

- побуждать к декомпозиции решаемых задач на простый функции
- обрабатывать данные, используя текущие цепочки
- уменьшать сложность управляемого событиями кода, применяя принципы реактивного программирования

Модуляризация в функциональном программировании тесно связана с принципом _единственности_, который гласит, что функции должны иметь единственное назначение.

Композиция двух функций дает одну функцию, которая получается в результате подключения выхода одной функции на вход другой.

$$
f * g = f(g(x))
$$

Функции осуществляющей композицию передаются другие функции в качестве аргументов и поэтому она является _функцией высшего порядка_.

Идиома _цепочки_ - последовательность вызовов функций, из которых возвращается один и тот же общий объект в качестве возвращаемого значения.

Цепочка функций является программой с _отложенным вычислением_. Это означает, что ее вычисление откладывается до тех пор, пока оно не потребуется.
